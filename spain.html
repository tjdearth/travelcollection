<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jeffrey Lehrfeld Spain Trip - Arrival Booklet | Unbox Spain & Portugal</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;1,400&family=Source+Sans+3:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Source Sans 3',sans-serif}
    .font-serif{font-family:'Cormorant Garamond',Georgia,serif}
    ::-webkit-scrollbar{width:8px;height:8px}
    ::-webkit-scrollbar-track{background:#f5f5f4}
    ::-webkit-scrollbar-thumb{background:#7B2D42;border-radius:4px}
    .hide-scrollbar::-webkit-scrollbar{display:none}
    .hide-scrollbar{-ms-overflow-style:none;scrollbar-width:none}
    .leaflet-container{font-family:'Source Sans 3',sans-serif}
    .wa-panel{animation:slideUp 0.3s ease-out}
    @keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
    .pulse-ring{animation:pulseRing 2s infinite}
    @keyframes pulseRing{0%{box-shadow:0 0 0 0 rgba(37,211,102,0.4)}70%{box-shadow:0 0 0 15px rgba(37,211,102,0)}100%{box-shadow:0 0 0 0 rgba(37,211,102,0)}}
    @media print{
      .no-print{display:none!important}
      body{-webkit-print-color-adjust:exact;print-color-adjust:exact}
      .min-h-screen{min-height:auto!important;page-break-inside:avoid}
      section{page-break-after:auto;page-break-inside:avoid}
      .fixed{position:static!important}
      .lg\\:w-1\\/2{width:100%!important;margin-left:0!important}
      .lg\\:block.fixed{display:none!important}
      .bg-cover{background-size:cover!important}
      h2{page-break-after:avoid}
    }
  </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const{useState,useRef,useEffect}=React;
const B={dg:'#7B2D42',g:'#C4956A',cr:'#F5F2ED'};
const H={
  cover:'https://images.unsplash.com/photo-1583422409516-2895a77efded?auto=format&fit=crop&w=1600&q=80',
  brief:'https://images.unsplash.com/photo-1539037116277-4db20889f2d4?auto=format&fit=crop&w=1600&q=80',
  map:'https://images.unsplash.com/photo-1509840841025-9088ba78a826?auto=format&fit=crop&w=1600&q=80',
  ess:'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?auto=format&fit=crop&w=1600&q=80',
  emg:'https://images.unsplash.com/photo-1509840841025-9088ba78a826?auto=format&fit=crop&w=1600&q=80',
  places:'https://images.unsplash.com/photo-1583422409516-2895a77efded?auto=format&fit=crop&w=1600&q=80',
  faq:'https://images.unsplash.com/photo-1562883676-8c7feb83f09b?auto=format&fit=crop&w=1600&q=80',
  bcn:'https://images.unsplash.com/photo-1583422409516-2895a77efded?auto=format&fit=crop&w=1600&q=80',
  gaudi:'https://images.unsplash.com/photo-1523531294919-4bcd7c65e216?auto=format&fit=crop&w=1600&q=80',
  granada:'https://images.unsplash.com/photo-1591291621164-2c6367723315?auto=format&fit=crop&w=1600&q=80',
  flamenco:'https://images.unsplash.com/photo-1551829142-d9b8c4c4b9b8?auto=format&fit=crop&w=1600&q=80',
  ronda:'https://images.unsplash.com/photo-1562883676-8c7feb83f09b?auto=format&fit=crop&w=1600&q=80',
  seville:'https://images.unsplash.com/photo-1515443961218-a51367888e4b?auto=format&fit=crop&w=1600&q=80',
  sevilla2:'https://images.unsplash.com/photo-1558370781-d6196949e317?auto=format&fit=crop&w=1600&q=80',
  cordoba:'https://images.unsplash.com/photo-1559666126-84f389727b9a?auto=format&fit=crop&w=1600&q=80',
  madrid:'https://images.unsplash.com/photo-1539037116277-4db20889f2d4?auto=format&fit=crop&w=1600&q=80',
  prado:'https://images.unsplash.com/photo-1574158622682-e40e69881006?auto=format&fit=crop&w=1600&q=80',
  palace:'https://images.unsplash.com/photo-1509840841025-9088ba78a826?auto=format&fit=crop&w=1600&q=80',
  dep:'https://images.unsplash.com/photo-1436491865332-7a61a109cc05?auto=format&fit=crop&w=1600&q=80'
};
const G={
  h10bcn:[
    {u:'https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80',c:'Lobby'},
    {u:'https://images.unsplash.com/photo-1582719508461-905c673771fd?auto=format&fit=crop&w=800&q=80',c:'Room'},
    {u:'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?auto=format&fit=crop&w=800&q=80',c:'Terrace'}
  ],
  luna:[
    {u:'https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?auto=format&fit=crop&w=800&q=80',c:'Exterior'},
    {u:'https://images.unsplash.com/photo-1582719508461-905c673771fd?auto=format&fit=crop&w=800&q=80',c:'Suite'},
    {u:'https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80',c:'Courtyard'}
  ],
  vincci:[
    {u:'https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80',c:'Lobby'},
    {u:'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?auto=format&fit=crop&w=800&q=80',c:'Pool'},
    {u:'https://images.unsplash.com/photo-1582719508461-905c673771fd?auto=format&fit=crop&w=800&q=80',c:'Room'}
  ],
  balcon:[
    {u:'https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?auto=format&fit=crop&w=800&q=80',c:'Patio'},
    {u:'https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80',c:'Room'},
    {u:'https://images.unsplash.com/photo-1582719508461-905c673771fd?auto=format&fit=crop&w=800&q=80',c:'Restaurant'}
  ],
  h10mad:[
    {u:'https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80',c:'Facade'},
    {u:'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?auto=format&fit=crop&w=800&q=80',c:'Room'},
    {u:'https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?auto=format&fit=crop&w=800&q=80',c:'Lounge'}
  ],
  sidecar:[
    {u:'https://images.unsplash.com/photo-1558981285-6f0c94958bb6?auto=format&fit=crop&w=800&q=80',c:'Sidecar Tour'},
    {u:'https://images.unsplash.com/photo-1515443961218-a51367888e4b?auto=format&fit=crop&w=800&q=80',c:'Tapas'},
    {u:'https://images.unsplash.com/photo-1583422409516-2895a77efded?auto=format&fit=crop&w=800&q=80',c:'Barcelona Views'}
  ],
  gaudi:[
    {u:'https://images.unsplash.com/photo-1523531294919-4bcd7c65e216?auto=format&fit=crop&w=800&q=80',c:'Sagrada Familia'},
    {u:'https://images.unsplash.com/photo-1564221710304-0b37c8b9d729?auto=format&fit=crop&w=800&q=80',c:'Casa Batll√≥'},
    {u:'https://images.unsplash.com/photo-1583779457715-5765e5cce9ae?auto=format&fit=crop&w=800&q=80',c:'La Pedrera'}
  ],
  alhambra:[
    {u:'https://images.unsplash.com/photo-1591291621164-2c6367723315?auto=format&fit=crop&w=800&q=80',c:'Court of Lions'},
    {u:'https://images.unsplash.com/photo-1558370781-d6196949e317?auto=format&fit=crop&w=800&q=80',c:'Nasrid Palaces'},
    {u:'https://images.unsplash.com/photo-1573455494060-c5595004fb6c?auto=format&fit=crop&w=800&q=80',c:'Generalife Gardens'}
  ],
  flamenco:[
    {u:'https://images.unsplash.com/photo-1551829142-d9b8c4c4b9b8?auto=format&fit=crop&w=800&q=80',c:'Flamenco Dancer'},
    {u:'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?auto=format&fit=crop&w=800&q=80',c:'Cave Venue'},
    {u:'https://images.unsplash.com/photo-1504609813442-a8924e83f76e?auto=format&fit=crop&w=800&q=80',c:'Performance'}
  ],
  ronda:[
    {u:'https://images.unsplash.com/photo-1562883676-8c7feb83f09b?auto=format&fit=crop&w=800&q=80',c:'Puente Nuevo'},
    {u:'https://images.unsplash.com/photo-1555881400-69dee7cef0f5?auto=format&fit=crop&w=800&q=80',c:'Old Town'},
    {u:'https://images.unsplash.com/photo-1509840841025-9088ba78a826?auto=format&fit=crop&w=800&q=80',c:'Gorge Views'}
  ],
  culinary:[
    {u:'https://images.unsplash.com/photo-1515443961218-a51367888e4b?auto=format&fit=crop&w=800&q=80',c:'Market Visit'},
    {u:'https://images.unsplash.com/photo-1544025162-d76694265947?auto=format&fit=crop&w=800&q=80',c:'Cooking Class'},
    {u:'https://images.unsplash.com/photo-1551024506-0bccd828d307?auto=format&fit=crop&w=800&q=80',c:'Local Dishes'}
  ],
  alcazar:[
    {u:'https://images.unsplash.com/photo-1558370781-d6196949e317?auto=format&fit=crop&w=800&q=80',c:'Alc√°zar Gardens'},
    {u:'https://images.unsplash.com/photo-1573455494060-c5595004fb6c?auto=format&fit=crop&w=800&q=80',c:'Cathedral'},
    {u:'https://images.unsplash.com/photo-1555881400-69dee7cef0f5?auto=format&fit=crop&w=800&q=80',c:'Giralda Tower'}
  ],
  mezquita:[
    {u:'https://images.unsplash.com/photo-1559666126-84f389727b9a?auto=format&fit=crop&w=800&q=80',c:'Mezquita Interior'},
    {u:'https://images.unsplash.com/photo-1573455494060-c5595004fb6c?auto=format&fit=crop&w=800&q=80',c:'Arches'},
    {u:'https://images.unsplash.com/photo-1555881400-69dee7cef0f5?auto=format&fit=crop&w=800&q=80',c:'Jewish Quarter'}
  ],
  prado:[
    {u:'https://images.unsplash.com/photo-1574158622682-e40e69881006?auto=format&fit=crop&w=800&q=80',c:'Museum Exterior'},
    {u:'https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80',c:'Gallery'},
    {u:'https://images.unsplash.com/photo-1582719508461-905c673771fd?auto=format&fit=crop&w=800&q=80',c:'Art Collection'}
  ],
  palace:[
    {u:'https://images.unsplash.com/photo-1509840841025-9088ba78a826?auto=format&fit=crop&w=800&q=80',c:'Royal Palace'},
    {u:'https://images.unsplash.com/photo-1539037116277-4db20889f2d4?auto=format&fit=crop&w=800&q=80',c:'Plaza de Oriente'},
    {u:'https://images.unsplash.com/photo-1558370781-d6196949e317?auto=format&fit=crop&w=800&q=80',c:'Palace Gardens'}
  ]
};
const Ic={
  Menu:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M4 6h16M4 12h16M4 18h16"/></svg>,
  X:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M6 18L18 6M6 6l12 12"/></svg>,
  ChD:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M19 9l-7 7-7-7"/></svg>,
  ChR:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M9 5l7 7-7 7"/></svg>,
  ChL:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M15 19l-7-7 7-7"/></svg>,
  Ph:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>,
  Wa:({c})=><svg className={c} fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>,
  Mp:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>,
  Cl:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>,
  Ca:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M8 17h.01M16 17h.01M9 11h6M5 11l1.5-4.5A2 2 0 018.39 5h7.22a2 2 0 011.89 1.5L19 11M5 11v6a1 1 0 001 1h1a1 1 0 001-1v-1h8v1a1 1 0 001 1h1a1 1 0 001-1v-6M5 11h14"/></svg>,
  Pl:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/></svg>,
  Bd:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>,
  Cm:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/><path d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/></svg>,
  Ut:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>,
  Wi:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M9 3h6l1 7c0 2.5-2 4-4 4s-4-1.5-4-4l1-7zM12 14v7M8 21h8"/></svg>,
  Co:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M18 8h1a4 4 0 010 8h-1M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8zM6 1v3M10 1v3M14 1v3"/></svg>,
  Cp:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><circle cx="12" cy="12" r="9"/></svg>,
  Ft:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>,
  Cal:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>,
  Us:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/></svg>,
  Sh:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/></svg>,
  Dl:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>,
  Ed:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>,
  Ck:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M5 13l4 4L19 7"/></svg>,
  Fs:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"/></svg>,
  Sn:({c})=><svg className={c} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>,
  Im:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>,
  Hk:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>,
  Ms:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"/></svg>,
  Tr:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M9 17h6l2-7H7l2 7zM9 17l-1 4m6-4l1 4M5 10h14M7.5 7h9l-.5-3h-8l-.5 3z"/></svg>,
  Tc:({c,s})=><svg className={c} style={s} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/></svg>,
  Fb:({c})=><svg className={c} fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>,
  Ig:({c})=><svg className={c} fill="currentColor" viewBox="0 0 24 24"><path d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z"/></svg>,
  Gl:({c})=><svg className={c} fill="currentColor" viewBox="0 0 24 24"><path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"/></svg>
};
const Gal=({imgs,name,isExp=false})=>{
  const ref=useRef(null);
  const[cL,setCL]=useState(false);
  const[cR,setCR]=useState(true);
  const chk=()=>{if(ref.current){const{scrollLeft:l,scrollWidth:w,clientWidth:c}=ref.current;setCL(l>0);setCR(l<w-c-10);}};
  useEffect(()=>{chk();const el=ref.current;if(el){el.addEventListener('scroll',chk);return()=>el.removeEventListener('scroll',chk);}},[]);
  const scr=(d)=>{if(ref.current)ref.current.scrollBy({left:d*200,behavior:'smooth'});};
  return(
    <div className="mt-4">
      <div className="flex items-center justify-between mb-2">
        <div className="flex items-center gap-2"><Ic.Im c="w-4 h-4" style={{color:B.dg}}/><h4 className="text-sm font-medium text-stone-600">{isExp?'Experience Gallery':'Property Gallery'}</h4></div>
        <div className="flex gap-1">
          <button onClick={()=>scr(-1)} disabled={!cL} className={`p-1 rounded-full transition-colors ${cL?'hover:bg-stone-100 text-stone-500':'text-stone-300 cursor-not-allowed'}`}><Ic.ChL c="w-4 h-4"/></button>
          <button onClick={()=>scr(1)} disabled={!cR} className={`p-1 rounded-full transition-colors ${cR?'hover:bg-stone-100 text-stone-500':'text-stone-300 cursor-not-allowed'}`}><Ic.ChR c="w-4 h-4"/></button>
        </div>
      </div>
      <div ref={ref} className="flex gap-3 overflow-x-auto pb-2 hide-scrollbar">
        {imgs.map((i,x)=>(
          <div key={x} className="flex-shrink-0 w-48 group cursor-pointer">
            <div className="relative h-32 rounded-lg overflow-hidden bg-stone-100">
              <img src={i.u} alt={i.c} className="w-full h-full object-cover" loading="lazy"/>
              <div className="absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"/>
              <span className="absolute bottom-2 left-2 text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity">{i.c}</span>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};
const TripMap=({locs,fullscreen=false,onToggleFs,onSelect})=>{
  const mapRef=useRef(null);
  const mapInst=useRef(null);
  const[selectedLoc,setSelectedLoc]=useState(null);
  useEffect(()=>{
    if(!mapRef.current||mapInst.current)return;
    const map=L.map(mapRef.current,{scrollWheelZoom:!fullscreen,zoomControl:fullscreen}).setView([40.0,-3.7],6);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{attribution:'¬©OpenStreetMap ¬©CARTO',maxZoom:19}).addTo(map);
    const mainLocs=locs.filter(l=>!l.dt);
    mainLocs.forEach((loc,i)=>{
      const icon=L.divIcon({className:'custom-marker',html:`<div style="background:${loc.c};color:white;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:14px;box-shadow:0 2px 8px rgba(0,0,0,0.3);border:2px solid white;">${i+1}</div>`,iconSize:[32,32],iconAnchor:[16,16]});
      L.marker([loc.lat,loc.lng],{icon}).addTo(map).on('click',()=>{setSelectedLoc(loc);onSelect&&onSelect(loc.id);});
    });
    if(mainLocs.length>1){
      const coords=mainLocs.map(l=>[l.lat,l.lng]);
      L.polyline(coords,{color:B.dg,weight:2,opacity:0.6,dashArray:'5,10'}).addTo(map);
    }
    const bounds=L.latLngBounds(locs.map(l=>[l.lat,l.lng]));
    map.fitBounds(bounds,{padding:[30,30]});
    mapInst.current=map;
    return()=>{map.remove();mapInst.current=null;};
  },[fullscreen]);
  return(
    <div className={`relative ${fullscreen?'fixed inset-0 z-50 bg-white':''}`}>
      {fullscreen&&(
        <div className="absolute top-0 left-0 right-0 z-[1001] bg-white/95 backdrop-blur-sm border-b border-stone-200 px-4 py-3 flex items-center justify-between">
          <h3 className="font-serif text-xl italic" style={{color:B.dg}}>Your Journey Map</h3>
          <button onClick={onToggleFs} className="p-2 hover:bg-stone-100 rounded-full"><Ic.X c="w-6 h-6 text-stone-600"/></button>
        </div>
      )}
      <div ref={mapRef} className={`w-full rounded-xl overflow-hidden shadow-inner ${fullscreen?'h-full pt-14':'h-80 md:h-96'}`} style={{background:'#f5f5f4'}}/>
      {!fullscreen&&<button onClick={onToggleFs} className="absolute top-3 right-3 p-2 bg-white/90 hover:bg-white rounded-lg shadow-md z-[1000]" title="Fullscreen map"><Ic.Fs c="w-5 h-5 text-stone-600"/></button>}
      {fullscreen&&selectedLoc&&(
        <div className="absolute bottom-6 left-6 right-6 md:left-auto md:right-6 md:w-80 bg-white rounded-xl shadow-xl p-4 z-[1001]">
          <div className="flex items-start gap-3">
            <span className="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold shrink-0" style={{background:selectedLoc.c}}>{locs.filter(l=>!l.dt).indexOf(selectedLoc)+1}</span>
            <div className="flex-1">
              <h4 className="font-medium text-stone-800">{selectedLoc.n}</h4>
              <p className="text-sm text-stone-500">Days {selectedLoc.days}</p>
              <p className="text-sm mt-1" style={{color:B.dg}}>{selectedLoc.h}</p>
              <a href={`https://www.google.com/maps/search/?api=1&query=${selectedLoc.lat},${selectedLoc.lng}`} target="_blank" rel="noopener noreferrer" className="text-xs text-stone-400 hover:text-stone-600 mt-2 inline-flex items-center gap-1">Open in Google Maps <Ic.ChR c="w-3 h-3"/></a>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};
const WhatsAppPanel=({onClose,wa,name})=>{
  const msgs=[
    {l:'üëã Say Hello',m:`Hello! I am ${name} and I'm on my Spain trip. Just saying hi!`},
    {l:'üöó Transfer Help',m:`Hello! I am ${name} on the Spain trip. I need assistance with a transfer.`},
    {l:'üçΩÔ∏è Restaurant recommendations',m:`Hello! I am ${name}. Could you recommend a restaurant for tonight?`},
    {l:'üé´ Tickets/Tours questions',m:`Hello! I am ${name}. I have a question about one of my tours.`},
    {l:'üÜò Urgent Help',m:`Hello! I am ${name} on the Spain trip and I need urgent assistance.`}
  ];
  return(
    <div className="fixed bottom-20 right-5 z-40 wa-panel no-print">
      <div className="bg-white rounded-2xl shadow-2xl w-80 overflow-hidden border border-stone-200">
        <div className="p-4" style={{backgroundColor:'#25D366'}}>
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-3">
              <div className="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center"><Ic.Wa c="w-6 h-6 text-white"/></div>
              <div><h3 className="text-white font-medium">Unbox Spain</h3><p className="text-white/80 text-xs">Typically replies instantly</p></div>
            </div>
            <button onClick={onClose} className="p-1 hover:bg-white/20 rounded-full"><Ic.X c="w-5 h-5 text-white"/></button>
          </div>
        </div>
        <div className="p-4">
          <p className="text-sm text-stone-600 mb-3">Select a quick message or start a custom chat:</p>
          <div className="space-y-2">
            {msgs.map((m,i)=>(
              <a key={i} href={`https://wa.me/${wa}?text=${encodeURIComponent(m.m)}`} target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 p-3 rounded-lg bg-stone-50 hover:bg-stone-100 transition-colors">
                <span className="text-sm text-stone-700">{m.l}</span>
                <Ic.ChR c="w-4 h-4 text-stone-400 ml-auto"/>
              </a>
            ))}
          </div>
          <a href={`https://wa.me/${wa}`} target="_blank" rel="noopener noreferrer" className="mt-3 w-full py-2.5 rounded-lg text-white text-sm font-medium flex items-center justify-center gap-2" style={{backgroundColor:'#25D366'}}>
            <Ic.Sn c="w-4 h-4"/>Open Chat
          </a>
        </div>
      </div>
    </div>
  );
};
const D={
  name:"Jeffrey Lehrfeld",dest:"Spain",sub:"Prepared for You",dates:"January 9th - 21st, 2026",
  intro:"Thank you for choosing Unbox Spain for your trip! This booklet regroups key information about your trip along with common FAQs about Spain. We hope you find it helpful! If you have any other questions that are not answered here, please ask us at any point and we'll make sure to get you an answer right away. Timeless Holidays. Unlocked.",
  flights:{
    arr:{date:"Fri, Jan 9",time:"09:00",port:"Barcelona (BCN)",flight:"AA 742",travelers:["Jeffrey Lehrfeld"]},
    dep:{date:"Wed, Jan 21",time:"TBD",port:"Madrid (MAD)",flight:"AA 741",travelers:["Jeffrey Lehrfeld"]}
  },
  weather:{
    1:{icon:'‚õÖ',hi:14,lo:6,cond:'Partly Cloudy'},
    2:{icon:'‚òÄÔ∏è',hi:15,lo:7,cond:'Sunny'},
    3:{icon:'‚õÖ',hi:14,lo:6,cond:'Partly Cloudy'},
    4:{icon:'‚òÄÔ∏è',hi:15,lo:7,cond:'Sunny'},
    5:{icon:'‚õÖ',hi:12,lo:4,cond:'Partly Cloudy'},
    6:{icon:'‚òÄÔ∏è',hi:13,lo:5,cond:'Sunny'},
    7:{icon:'‚õÖ',hi:16,lo:8,cond:'Partly Cloudy'},
    8:{icon:'‚òÄÔ∏è',hi:17,lo:9,cond:'Sunny'},
    9:{icon:'‚õÖ',hi:16,lo:8,cond:'Partly Cloudy'},
    10:{icon:'‚òÄÔ∏è',hi:12,lo:4,cond:'Sunny'},
    11:{icon:'‚õÖ',hi:10,lo:3,cond:'Partly Cloudy'},
    12:{icon:'‚òÄÔ∏è',hi:11,lo:4,cond:'Sunny'},
    13:{icon:'‚õÖ',hi:10,lo:3,cond:'Partly Cloudy'}
  },
  em:{
    tm:"Unbox Spain Operations",tmPh:"+34 625 663 518",
    ge:"Operations Manager",gePh:"+34 625 663 518",
    ep:"+34 636 642 291",
    wa:"34625663518"
  },
  places:[
    {id:'barcelona',name:'Barcelona',img:'https://images.unsplash.com/photo-1583422409516-2895a77efded?auto=format&fit=crop&w=800&q=80',desc:"Barcelona, the cosmopolitan capital of Catalonia, is a city where Gothic architecture meets modernist masterpieces. From the whimsical creations of Antoni Gaud√≠ ‚Äì including the awe-inspiring Sagrada Familia and the colorful Park G√ºell ‚Äì to the narrow medieval streets of the Gothic Quarter, Barcelona offers endless discoveries."},
    {id:'granada',name:'Granada',img:'https://images.unsplash.com/photo-1591291621164-2c6367723315?auto=format&fit=crop&w=800&q=80',desc:"Granada, nestled at the foot of the Sierra Nevada mountains, is home to the magnificent Alhambra palace ‚Äì a UNESCO World Heritage Site and one of the finest examples of Moorish architecture in the world. The city's historic Albayz√≠n quarter, with its narrow winding streets and stunning views, offers a glimpse into its rich multicultural past."},
    {id:'ronda',name:'Ronda',img:'https://images.unsplash.com/photo-1562883676-8c7feb83f09b?auto=format&fit=crop&w=800&q=80',desc:"Perched dramatically above the El Tajo gorge, Ronda is one of Spain's most spectacular towns. The iconic Puente Nuevo bridge spans the 100-meter deep chasm, connecting the old Moorish town with the newer areas. Ronda is also famous for its historic bullring, one of the oldest in Spain."},
    {id:'seville',name:'Seville',img:'https://images.unsplash.com/photo-1558370781-d6196949e317?auto=format&fit=crop&w=800&q=80',desc:"Seville, the passionate heart of Andalusia, captivates visitors with its stunning architecture, vibrant flamenco culture, and delicious tapas scene. The magnificent Alc√°zar palace, the grand Cathedral with its Giralda tower, and the charming Barrio de Santa Cruz make Seville an unforgettable destination."},
    {id:'cordoba',name:'C√≥rdoba',img:'https://images.unsplash.com/photo-1559666126-84f389727b9a?auto=format&fit=crop&w=800&q=80',desc:"C√≥rdoba's crowning jewel is the Mezquita-Cathedral, a stunning architectural masterpiece that reflects the city's unique blend of Islamic, Jewish, and Christian heritage. The historic Jewish Quarter with its flower-filled patios and narrow streets is a UNESCO World Heritage Site."},
    {id:'madrid',name:'Madrid',img:'https://images.unsplash.com/photo-1539037116277-4db20889f2d4?auto=format&fit=crop&w=800&q=80',desc:"Spain's vibrant capital, Madrid, offers world-class art museums including the Prado, Reina Sof√≠a, and Thyssen-Bornemisza. The grand Royal Palace, beautiful Retiro Park, and lively plazas make Madrid a city of endless exploration. The city's legendary nightlife and culinary scene are equally impressive."}
  ],
  faq:[
    {cat:'Internet & Connectivity',icon:'üì∂',items:[
      {q:'Is internet access available?',a:'Internet access is readily available across Spain, and online activity is not censored or limited in any way. All hotels offer internet access, with strongest signals typically in lobby and common areas. You can also enable tethering from your cell phone if you install a local SIM card with a data plan.'}
    ]},
    {cat:'Currency & Money',icon:'üí∞',items:[
      {q:'What currency is used?',a:'The currency in Spain is the Euro. The current exchange rate is approximately ‚Ç¨0.92 per $1 USD.'},
      {q:'How should I get cash?',a:'The best way to obtain cash is to use your debit card at local ATMs that are readily available in each city. You can also use your debit or credit card for most purchases. Tip: When merchants ask if you want to pay in USD or EUR, always select EUR as the exchange rate offered is generally not competitive.'},
      {q:'What are typical prices?',a:'Reference prices: Intra-city taxi ride: ‚Ç¨15-‚Ç¨25 ($16-$27), Water bottle: ‚Ç¨2 ($2.15).'}
    ]},
    {cat:'Tipping & Etiquette',icon:'ü§ù',items:[
      {q:'What is the tipping culture?',a:'Tips for your guides and driver are left at your discretion. A customary range would be $30-$40 USD per day for your driver and $40-$60 USD per day for your guide. Tipping at restaurants to reward excellent service is generally 15-20%.'}
    ]}
  ],
  locs:[
    {id:'barcelona',n:'Barcelona',lat:41.3851,lng:2.1734,days:'1-4',h:'H10 Urquinaona Plaza',c:B.dg},
    {id:'granada',n:'Granada',lat:37.1773,lng:-3.5986,days:'5-6',h:'Luna Granada Boutique',c:B.dg},
    {id:'ronda',n:'Ronda',lat:36.7462,lng:-5.1611,days:'7',h:'En Route',c:B.g},
    {id:'seville',n:'Seville',lat:37.3891,lng:-5.9845,days:'7-8',h:'Vincci La Rabida',c:B.dg},
    {id:'cordoba',n:'C√≥rdoba',lat:37.8882,lng:-4.7794,days:'9-10',h:'Balcon de Cordoba',c:B.dg},
    {id:'madrid',n:'Madrid',lat:40.4168,lng:-3.7038,days:'10-12',h:'H10 Villa de la Reina',c:B.dg}
  ],
  acc:[
    {d:"Day 1-4",n:"H10 Urquinaona Plaza",l:"Barcelona",dt:"Boutique Hotel",ni:4,g:'h10bcn',ds:"Located in the heart of Barcelona near the Gothic Quarter, H10 Urquinaona Plaza offers modern comfort with classic elegance. The hotel features a rooftop terrace with pool and panoramic city views."},
    {d:"Day 5-6",n:"Luna Granada Boutique Hotel",l:"Granada",dt:"Boutique Hotel",ni:2,g:'luna',ds:"A charming boutique hotel in Granada's historic center, offering personalized service and easy access to the Alhambra and Albayz√≠n neighborhoods."},
    {d:"Day 7-8",n:"Vincci La Rabida",l:"Seville",dt:"Historic Hotel",ni:2,g:'vincci',ds:"Set in a beautifully restored 18th-century palace in Seville's historic Arenal district, Vincci La Rabida combines period charm with modern amenities."},
    {d:"Day 9",n:"Balcon de Cordoba Hotel",l:"C√≥rdoba",dt:"Boutique Hotel",ni:1,g:'balcon',ds:"An intimate boutique hotel built around a traditional Andalusian patio, located steps from the famous Mezquita-Cathedral."},
    {d:"Day 10-12",n:"H10 Villa de la Reina",l:"Madrid",dt:"Boutique Hotel",ni:3,g:'h10mad',ds:"Situated on the vibrant Gran V√≠a, H10 Villa de la Reina offers elegant rooms and a prime location for exploring Madrid's attractions."}
  ],
  itin:[
    {dy:1,dt:"Fri, Jan 9",loc:"Barcelona",hk:'bcn',act:[
      {t:"tr",i:"plane",ti:"Arrival",tm:"09:00",ds:"Flight AA 742 arrives at Barcelona Airport"},
      {t:"tr",i:"car",ti:"Airport Pick-up",tm:"09:00",ds:"Driver at arrivals with Unbox Spain sign.",pr:"Unbox Spain"},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"act",i:"camera",ti:"Barcelona in Motion: Tapas & Sidecar Tour",tm:"7:00 PM",dur:"3.5 hrs",ds:"Dinner included - guide picks you up at 19:00 at the hotel",pr:"Unbox Spain",eds:"Discover the foodie's Barcelona from the sidecar of a classic motorcycle, safely driven by your private guide. Enjoy the spectacular architecture, magnificent views and the best tapas Barcelona has to offer. This unique experience combines an evening sidecar motorcycle tour all around the city, with outstanding food & wine including a full tapas meal and sparkling Cava at a beautiful viewpoint.",g:'sidecar'},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"H10 Urquinaona Plaza",ad:"Via Laietana, 24, Barcelona",g:'h10bcn'}
    ]},
    {dy:2,dt:"Sat, Jan 10",loc:"Barcelona",hk:'bcn',act:[
      {t:"info",i:"info",ti:"Day at Leisure",ds:"Enjoy Barcelona at your own pace. Consider exploring the Gothic Quarter, La Rambla, or the beach.",nt:true},
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"H10 Urquinaona Plaza",g:'h10bcn'}
    ]},
    {dy:3,dt:"Sun, Jan 11",loc:"Barcelona",hk:'bcn',act:[
      {t:"info",i:"info",ti:"Day at Leisure",ds:"Another free day to explore Barcelona's many attractions.",nt:true},
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"H10 Urquinaona Plaza",g:'h10bcn'}
    ]},
    {dy:4,dt:"Mon, Jan 12",loc:"Barcelona",hk:'gaudi',act:[
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"act",i:"camera",ti:"Gaud√≠'s Barcelona: A Journey of Artistic Discovery",tm:"10:00 AM",dur:"4 hrs",ds:"Guide picks you up at the hotel",pr:"Unbox Spain",eds:"Explore the genius of Antoni Gaud√≠ and the hidden treasures of modernist architecture. Begin in the Eixample district, renowned for its wide, structured streets and rich modernist heritage. Highlights include a guided visit to the breathtaking Sagrada Familia (1.5 hours), an exterior view of Casa Batll√≥ and La Pedrera (1.5 hours), and a stop at the Hospital de Sant Pau, a true jewel of Catalan modernism. Note: Park G√ºell is not included but can be visited independently.",g:'gaudi'},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"H10 Urquinaona Plaza",g:'h10bcn'}
    ]},
    {dy:5,dt:"Tue, Jan 13",loc:"Barcelona ‚Üí Granada",hk:'granada',act:[
      {t:"tr",i:"car",ti:"Transfer to Airport",tm:"05:00",ds:"Early morning transfer to Barcelona Airport",pr:"Unbox Spain"},
      {t:"tr",i:"plane",ti:"Flight to Granada",tm:"07:02 - 09:00",ds:"Flight Barcelona - Granada (not included)"},
      {t:"act",i:"camera",ti:"Sultan's Secrets: The Alhambra and Albayz√≠n",tm:"1:00 PM",dur:"3 hrs",ds:"Guide picks you up at 13:00 at the hotel",pr:"Unbox Spain",eds:"Immerse yourself in Granada's rich history with a tour of the Alhambra and the Albayz√≠n. Begin at the Alhambra, exploring the stunning Nasrid Palaces with their intricate Islamic art and the iconic Court of Lions. Stroll through the serene Generalife Gardens, once a royal retreat. Continue to the Albayz√≠n, Granada's historic Moorish quarter with its narrow streets and stunning views of the Alhambra.",g:'alhambra'},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"Luna Granada Boutique Hotel",g:'luna'}
    ]},
    {dy:6,dt:"Wed, Jan 14",loc:"Granada",hk:'flamenco',act:[
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"act",i:"music",ti:"Sounds in a Cave: Flamenco La Roc√≠o",tm:"7:00 PM",dur:"1 hr",ds:"Show starts at 19:00",pr:"La Roc√≠o",eds:"Step into the mystical world of Andalusian culture with a flamenco experience in Granada's Sacromonte caves. The tradition of Zambra Gitana, deeply rooted in the 16th century and intertwined with Moorish rituals, unfolds in the heart of these ancient caves. As dusk descends, the caves come alive with soul-stirring performances that captivate and transport audiences.",g:'flamenco'},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"Luna Granada Boutique Hotel",g:'luna'}
    ]},
    {dy:7,dt:"Thu, Jan 15",loc:"Granada ‚Üí Ronda ‚Üí Seville",hk:'ronda',act:[
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"act",i:"camera",ti:"Discovering Ronda's Rich Heritage",tm:"12:00 PM",dur:"3 hrs",ds:"Guide will be waiting for you at 12:00",pr:"Unbox Spain",eds:"Embark on a personalized exploration of Ronda's cultural treasures. Marvel at the dramatic Puente Nuevo spanning the El Tajo gorge, explore the historic bullring, and stroll through the charming old town lined with whitewashed buildings and quaint squares. With exclusive access to hidden gems and insider knowledge, this immersive experience offers a deeper understanding of Ronda's heritage.",g:'ronda'},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"Vincci La Rabida",ad:"Calle Castelar, 24, Seville",g:'vincci'}
    ]},
    {dy:8,dt:"Fri, Jan 16",loc:"Seville",hk:'seville',act:[
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"act",i:"camera",ti:"Seville Through Its Flavors: A Cultural and Culinary Journey",tm:"9:30 AM",dur:"5 hrs",ds:"Lunch included - guide picks you up at the hotel",pr:"Unbox Spain",eds:"This is more than just a cooking class‚Äîit's a cultural journey through Seville's history, lifestyle, and traditions, experienced through its cuisine. Begin with a visit to a local market, where you'll select fresh ingredients while immersing yourself in the vibrant atmosphere. Then, dive into the art of Andalusian cooking, guided by passionate hosts who share their love for Seville's culinary heritage.",g:'culinary'},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"Vincci La Rabida",g:'vincci'}
    ]},
    {dy:9,dt:"Sat, Jan 17",loc:"Seville ‚Üí C√≥rdoba",hk:'sevilla2',act:[
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"act",i:"camera",ti:"Timeless Sevilla: Alc√°zar, Cathedral & Giralda",tm:"10:00 AM",dur:"3 hrs",ds:"Guide picks you up at the hotel",pr:"Unbox Spain",eds:"Step into the heart of Seville and uncover its most iconic landmarks. Visit the awe-inspiring Cathedral of Seville, a magnificent Gothic masterpiece that houses the tomb of Christopher Columbus. Ascend the Giralda for panoramic views. Continue to the captivating Alc√°zar, a royal palace where Moorish splendor blends with Renaissance elegance. Finally, explore the charming Barrio de Santa Cruz.",g:'alcazar'},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"Balcon de Cordoba Hotel",ad:"Calle Encarnaci√≥n, 8, C√≥rdoba",g:'balcon'}
    ]},
    {dy:10,dt:"Sun, Jan 18",loc:"C√≥rdoba ‚Üí Madrid",hk:'cordoba',act:[
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"act",i:"camera",ti:"C√≥rdoba's Canvas: The Mezquita and Historic Center",tm:"9:30 AM",dur:"4 hrs",ds:"Guide picks you up at the hotel",pr:"Unbox Spain",eds:"Discover the Mezquita-Cathedral of C√≥rdoba, a timeless architectural masterpiece. Begin in the tranquil Courtyard of the Orange Trees before stepping inside to admire its iconic dual-layered arches and stunning Mihrab. Afterward, explore C√≥rdoba's historic center, a UNESCO World Heritage Site. Wander through the enchanting Jewish Quarter, home to narrow cobblestone streets and the historic Synagogue.",g:'mezquita'},
      {t:"tr",i:"car",ti:"Transfer to Train Station",tm:"4:00 PM",ds:"Private transfer from hotel to train station",pr:"Unbox Spain"},
      {t:"tr",i:"train",ti:"Train to Madrid",tm:"5:15 PM - 7:10 PM",ds:"High-speed train C√≥rdoba - Madrid"},
      {t:"tr",i:"car",ti:"Transfer to Hotel",tm:"7:10 PM",ds:"Private transfer from train station to hotel",pr:"Unbox Spain"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"H10 Villa de la Reina",ad:"Gran V√≠a, 22, Madrid",g:'h10mad'}
    ]},
    {dy:11,dt:"Mon, Jan 19",loc:"Madrid",hk:'prado',act:[
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"act",i:"ticket",ti:"El Prado Museum (Self-Guided)",tm:"10:30 AM",ds:"Tickets included - entry at 10:30",pr:"Museo del Prado",eds:"Explore one of the world's finest art museums at your own pace. The Prado houses an exceptional collection of European art, including masterpieces by Vel√°zquez, Goya, El Greco, Rubens, and Bosch. Don't miss Las Meninas, The Garden of Earthly Delights, and The Third of May 1808.",g:'prado'},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"H10 Villa de la Reina",g:'h10mad'}
    ]},
    {dy:12,dt:"Tue, Jan 20",loc:"Madrid",hk:'palace',act:[
      {t:"lei",i:"coffee",ti:"Breakfast at the Hotel"},
      {t:"act",i:"ticket",ti:"Royal Palace (Self-Guided)",tm:"10:30 AM",ds:"Tickets included - entry at 10:30",pr:"Palacio Real",eds:"Visit Spain's magnificent Royal Palace, the official residence of the Spanish Royal Family. Explore the lavishly decorated State Rooms, the Royal Armory with its impressive collection of weapons and armor, and the beautiful Sabatini Gardens. The palace is one of the largest in Western Europe with over 3,000 rooms.",g:'palace'},
      {t:"lei",i:"coffee",ti:"Lunch at Leisure"},
      {t:"lei",i:"coffee",ti:"Dinner at Leisure"},
      {t:"acc",i:"hotel",ti:"Accommodation",loc:"H10 Villa de la Reina",g:'h10mad'}
    ]},
    {dy:13,dt:"Wed, Jan 21",loc:"Departure",hk:'dep',act:[
      {t:"tr",i:"car",ti:"Transfer to Airport",tm:"09:45",ds:"Private transfer from hotel to Madrid Airport (AA 741)",pr:"Unbox Spain"},
      {t:"info",i:"info",ti:"¬°Hasta Pronto!",ds:"We hope you had an amazing journey through Spain. Safe travels!",nt:true}
    ]}
  ]
};
const getIc=(t,c,s)=>{
  const m={car:Ic.Ca,plane:Ic.Pl,hotel:Ic.Bd,camera:Ic.Cm,utensils:Ic.Ut,wine:Ic.Wi,coffee:Ic.Co,compass:Ic.Cp,info:Ic.Ft,music:Ic.Ms,train:Ic.Tr,ticket:Ic.Tc};
  const I=m[t]||Ic.Cal;
  return <I c={`w-5 h-5 ${c}`} s={s}/>;
};
function App(){
  const[menu,setMenu]=useState(false);
  const[sec,setSec]=useState('cover');
  const[exp,setExp]=useState({});
  const[edit,setEdit]=useState(false);
  const[notes,setNotes]=useState({});
  const[tab,setTab]=useState('ov');
  const[hero,setHero]=useState(H.cover);
  const[pdfLoading,setPdfLoading]=useState(false);
  const[showWaPanel,setShowWaPanel]=useState(false);
  const[fullscreenMap,setFullscreenMap]=useState(false);
  const[tempUnit,setTempUnit]=useState('F');
  const[faqOpen,setFaqOpen]=useState({});
  const[placesOpen,setPlacesOpen]=useState({});
  const refs=useRef({});
  const toF=(c)=>Math.round(c*9/5+32);
  const getTemp=(c)=>tempUnit==='F'?toF(c):c;
  const toc=[{id:'cover',l:'Cover'},{id:'brief',l:'Travel Brief'},{id:'map',l:'Journey'},{id:'ess',l:'Essentials'},...D.itin.map(d=>({id:`d${d.dy}`,l:`Day ${d.dy}`,s:d.loc})),{id:'emg',l:'Emergency'},{id:'places',l:'Places'},{id:'faq',l:'FAQ'}];
  const goTo=(id)=>{setMenu(false);setSec(id);updH(id);refs.current[id]?.scrollIntoView({behavior:'smooth'});};
  const updH=(id)=>{
    if(id==='cover')setHero(H.cover);
    else if(id==='brief')setHero(H.brief);
    else if(id==='map')setHero(H.map);
    else if(id==='ess')setHero(H.ess);
    else if(id==='emg')setHero(H.emg);
    else if(id==='places')setHero(H.places);
    else if(id==='faq')setHero(H.faq);
    else{const d=D.itin.find(x=>`d${x.dy}`===id);if(d?.hk)setHero(H[d.hk]);}
  };
  const tog=(di,ai)=>setExp(p=>({...p,[`${di}-${ai}`]:!p[`${di}-${ai}`]}));
  const togFaq=(cat,idx)=>setFaqOpen(p=>({...p,[`${cat}-${idx}`]:!p[`${cat}-${idx}`]}));
  const togPlace=(id)=>setPlacesOpen(p=>({...p,[id]:!p[id]}));
  useEffect(()=>{
    const obs=new IntersectionObserver((e)=>{e.forEach(x=>{if(x.isIntersecting){const id=x.target.getAttribute('data-s');if(id){setSec(id);updH(id);}}});},{threshold:0.3});
    Object.entries(refs.current).forEach(([id,el])=>{if(el){el.setAttribute('data-s',id);obs.observe(el);}});
    return()=>obs.disconnect();
  },[]);
  return(
    <div className="min-h-screen bg-stone-50">
      <header className="fixed top-0 right-0 left-0 lg:left-1/2 z-50 bg-stone-50/95 backdrop-blur-sm border-b border-stone-200">
        <div className="flex items-center justify-between px-4 py-3">
          <button onClick={()=>setMenu(!menu)} className="p-2 hover:bg-stone-100 rounded-full">{menu?<Ic.X c="w-6 h-6 text-stone-700"/>:<Ic.Menu c="w-6 h-6 text-stone-700"/>}</button>
          <img src="https://spaintourismsummit.tourspain.es/wp-content/uploads/2025/05/BURDEAUX.jpg" alt="Unbox Spain & Portugal" className="h-8" onError={(e)=>{e.target.outerHTML='<div class="font-serif text-xl italic" style="color:#7B2D42">UNBOX SPAIN</div>';}}/>
          <div className="flex items-center gap-2">
            <button onClick={()=>setEdit(!edit)} className={`p-2 rounded-full no-print transition-colors ${edit?'bg-amber-100':'hover:bg-stone-100'}`} title={edit?"Exit Edit Mode":"Edit Notes"}>
              <Ic.Ed c={`w-5 h-5 ${edit?'text-amber-700':'text-stone-600'}`}/>
            </button>
            <button onClick={async()=>{
              const url=window.location.href;
              const title=`${D.name} - Spain Itinerary`;
              if(navigator.share){
                try{await navigator.share({title,url});}catch(e){}
              }else{
                await navigator.clipboard.writeText(url);
                alert('Link copied to clipboard!');
              }
            }} className="p-2 hover:bg-stone-100 rounded-full no-print" title="Share Itinerary">
              <Ic.Sh c="w-5 h-5 text-stone-600"/>
            </button>
            <button onClick={()=>{
              setPdfLoading(true);
              const el=document.getElementById('booklet-content');
              html2pdf().set({
                margin:8,pagebreak:{mode:['avoid-all','css','legacy']},filename:`JeffreyLehrfeld-Spain-Booklet-${new Date().toISOString().split('T')[0]}.pdf`,
                image:{type:'jpeg',quality:0.95},html2canvas:{scale:2,useCORS:true},jsPDF:{unit:'mm',format:'a4',orientation:'portrait'}
              }).from(el).save().then(()=>setPdfLoading(false)).catch(()=>setPdfLoading(false));
            }} disabled={pdfLoading} className="p-2 hover:bg-stone-100 rounded-full no-print" title="Download PDF">
              {pdfLoading?<div className="w-5 h-5 border-2 border-stone-300 border-t-stone-600 rounded-full animate-spin"/>:<Ic.Dl c="w-5 h-5 text-stone-600"/>}
            </button>
            <button onClick={()=>setShowWaPanel(!showWaPanel)} className="p-2 hover:bg-stone-100 rounded-full no-print" title="Chat with Concierge">
              <Ic.Wa c="w-5 h-5" style={{color:'#25D366'}}/>
            </button>
          </div>
        </div>
        {menu&&(
          <nav className="absolute top-full left-0 right-0 bg-white border-b border-stone-200 shadow-lg max-h-[70vh] overflow-y-auto">
            {toc.map(t=>(
              <button key={t.id} onClick={()=>goTo(t.id)} className={`w-full px-6 py-3 text-left hover:bg-stone-50 flex items-center justify-between ${sec===t.id?'bg-stone-50':''}`}>
                <span className="font-medium" style={sec===t.id?{color:B.dg}:{}}>{t.l}</span>
                {t.s&&<span className="text-xs text-stone-400">{t.s}</span>}
              </button>
            ))}
          </nav>
        )}
      </header>
      {edit&&(
        <div className="fixed top-[57px] right-0 left-0 lg:left-1/2 z-40 bg-amber-50 border-b border-amber-200 px-4 py-2 flex items-center justify-between no-print">
          <div className="flex items-center gap-2">
            <Ic.Ed c="w-4 h-4 text-amber-700"/>
            <span className="text-sm font-medium text-amber-700">Edit Mode</span>
            <span className="text-sm text-amber-600">‚Äî Level III notes only</span>
          </div>
          <button onClick={()=>setEdit(false)} className="text-sm font-medium flex items-center gap-1" style={{color:B.dg}}>
            <Ic.Ck c="w-4 h-4"/>Save
          </button>
        </div>
      )}
      <div className="hidden lg:block fixed top-0 left-0 w-1/2 h-screen">
        <div className="relative w-full h-full">
          <img src={hero} alt="" className="w-full h-full object-cover transition-all duration-700"/>
          <div className="absolute inset-0 bg-gradient-to-r from-transparent to-black/20"/>
        </div>
      </div>
      <div id="booklet-content" className="lg:w-1/2 lg:ml-[50%]">
        <div className="pt-16">
          <section ref={el=>refs.current['cover']=el} className="min-h-screen flex flex-col items-center justify-center px-6 py-24 relative" style={{backgroundColor:B.cr}}>
            <div className="text-center max-w-md">
              <img src="https://spaintourismsummit.tourspain.es/wp-content/uploads/2025/05/BURDEAUX.jpg" alt="Unbox Spain & Portugal" className="h-16 mx-auto mb-8" onError={(e)=>{e.target.style.display='none';}}/>
              <p className="text-sm tracking-widest uppercase mb-2" style={{color:B.dg}}>Arrival Booklet</p>
              <h1 className="font-serif text-4xl md:text-5xl italic mb-4" style={{color:B.dg}}>{D.name}</h1>
              <p className="text-xl mb-2" style={{color:B.g}}>{D.dest}</p>
              <p className="text-stone-500">{D.dates}</p>
              <div className="mt-12">
                <button onClick={()=>goTo('brief')} className="px-8 py-3 rounded-full text-white font-medium shadow-lg hover:shadow-xl transition-all" style={{backgroundColor:B.dg}}>
                  Explore Your Journey
                </button>
              </div>
            </div>
          </section>
          <section ref={el=>refs.current['brief']=el} className="min-h-screen px-6 py-20 bg-white">
            <h2 className="font-serif text-3xl text-center mb-3 italic" style={{color:B.dg}}>Travel Brief</h2>
            <p className="text-center text-stone-500 mb-8">Your trip at a glance</p>
            <div className="flex justify-center gap-2 mb-8 border-b border-stone-200">
              {[{id:'ov',l:'Overview',I:Ic.Cal},{id:'ac',l:'Accommodation',I:Ic.Bd},{id:'fl',l:'Flights',I:Ic.Pl}].map(t=>(
                <button key={t.id} onClick={()=>setTab(t.id)} className={`flex items-center gap-2 pb-3 px-3 border-b-2 ${tab===t.id?'text-stone-800':'border-transparent text-stone-400'}`} style={tab===t.id?{borderColor:B.g}:{}}>
                  <t.I c="w-4 h-4"/><span className="text-sm">{t.l}</span>
                </button>
              ))}
            </div>
            {tab==='ov'&&(
              <div className="max-w-3xl mx-auto overflow-x-auto">
                <table className="w-full text-sm">
                  <thead><tr className="border-b border-stone-200">
                    <th className="py-3 text-left text-stone-500 font-normal">Day</th>
                    <th className="py-3 text-left text-stone-500 font-normal">Activities</th>
                    <th className="py-3 text-center text-stone-500 font-normal w-28">
                      <div className="flex items-center justify-center gap-2">
                        <span>Weather</span>
                        <div className="inline-flex rounded-full border border-stone-300 overflow-hidden text-xs">
                          <button onClick={()=>setTempUnit('F')} className={`px-2 py-0.5 transition-colors ${tempUnit==='F'?'text-white':'text-stone-500 hover:bg-stone-100'}`} style={tempUnit==='F'?{backgroundColor:B.dg}:{}}>¬∞F</button>
                          <button onClick={()=>setTempUnit('C')} className={`px-2 py-0.5 transition-colors ${tempUnit==='C'?'text-white':'text-stone-500 hover:bg-stone-100'}`} style={tempUnit==='C'?{backgroundColor:B.dg}:{}}>¬∞C</button>
                        </div>
                      </div>
                    </th>
                  </tr></thead>
                  <tbody>{D.itin.map((d,i)=>{
                    const w=D.weather[d.dy];
                    return(
                    <tr key={i} className="border-b border-stone-100">
                      <td className="py-3 pr-4 align-top whitespace-nowrap"><span className="text-stone-800">Day {d.dy}</span><br/><span className="text-xs text-stone-400">{d.loc}</span></td>
                      <td className="py-3"><div className="space-y-1.5">
                        {d.act.filter(a=>!['acc','lei','info'].includes(a.t)).slice(0,2).map((a,j)=>(
                          <div key={j} className="flex items-start gap-2">{getIc(a.i,'mt-0.5',{color:B.dg})}<span className="text-stone-700">{a.ti}</span></div>
                        ))}
                        {d.act.find(a=>a.t==='acc')&&<div className="flex items-start gap-2"><Ic.Bd c="w-5 h-5 mt-0.5" s={{color:B.dg}}/><span className="text-stone-700">{d.act.find(a=>a.t==='acc')?.loc}</span></div>}
                      </div></td>
                      <td className="py-3 text-center align-top">
                        {w&&<div className="inline-flex flex-col items-center">
                          <span className="text-2xl">{w.icon}</span>
                          <span className="text-xs text-stone-600 font-medium">{getTemp(w.hi)}¬∞ / {getTemp(w.lo)}¬∞</span>
                          <span className="text-xs text-stone-400">{w.cond}</span>
                        </div>}
                      </td>
                    </tr>
                  );})}</tbody>
                </table>
                <p className="text-xs text-stone-400 text-center mt-4 italic">Weather forecast is approximate and will be updated closer to your travel date.</p>
              </div>
            )}
            {tab==='ac'&&(
              <div className="max-w-3xl mx-auto space-y-6">{D.acc.map((a,i)=>(
                <div key={i} className="bg-stone-50 rounded-xl p-5 border border-stone-200">
                  <div className="flex flex-wrap items-start justify-between gap-4 mb-3">
                    <div><h3 className="font-medium text-stone-800">{a.n}</h3><p className="text-sm" style={{color:B.g}}>{a.l}</p></div>
                    <div className="text-right"><span className="text-sm text-stone-600">{a.d}</span><span className="block text-xs text-stone-400">{a.ni} night{a.ni>1?'s':''}</span></div>
                  </div>
                  <p className="text-sm text-stone-600 mb-3">{a.ds}</p>
                  {a.g&&<Gal imgs={G[a.g]} name={a.n}/>}
                </div>
              ))}</div>
            )}
            {tab==='fl'&&(
              <div className="max-w-2xl mx-auto space-y-6">
                <div className="bg-stone-50 rounded-xl p-5 border border-stone-200">
                  <div className="flex items-center gap-3 mb-4">
                    <div className="w-10 h-10 rounded-full flex items-center justify-center" style={{backgroundColor:B.dg}}><Ic.Pl c="w-5 h-5 text-white" s={{transform:'rotate(-45deg)'}}/></div>
                    <div><h3 className="font-medium text-stone-800">Arrival</h3><p className="text-sm text-stone-500">{D.flights.arr.date}</p></div>
                  </div>
                  <div className="grid grid-cols-3 gap-4 text-sm mb-4">
                    <div><span className="text-stone-400 block">Time</span><span className="font-medium">{D.flights.arr.time}</span></div>
                    <div><span className="text-stone-400 block">Airport</span><span className="font-medium">{D.flights.arr.port}</span></div>
                    <div><span className="text-stone-400 block">Flight</span><span className="font-medium">{D.flights.arr.flight}</span></div>
                  </div>
                  <div className="text-sm"><span className="text-stone-400">Travelers:</span><span className="ml-2">{D.flights.arr.travelers.join(', ')}</span></div>
                </div>
                <div className="bg-stone-50 rounded-xl p-5 border border-stone-200">
                  <div className="flex items-center gap-3 mb-4">
                    <div className="w-10 h-10 rounded-full flex items-center justify-center" style={{backgroundColor:B.g}}><Ic.Pl c="w-5 h-5 text-white" s={{transform:'rotate(45deg)'}}/></div>
                    <div><h3 className="font-medium text-stone-800">Departure</h3><p className="text-sm text-stone-500">{D.flights.dep.date}</p></div>
                  </div>
                  <div className="grid grid-cols-3 gap-4 text-sm mb-4">
                    <div><span className="text-stone-400 block">Time</span><span className="font-medium">{D.flights.dep.time}</span></div>
                    <div><span className="text-stone-400 block">Airport</span><span className="font-medium">{D.flights.dep.port}</span></div>
                    <div><span className="text-stone-400 block">Flight</span><span className="font-medium">{D.flights.dep.flight}</span></div>
                  </div>
                  <div className="text-sm"><span className="text-stone-400">Travelers:</span><span className="ml-2">{D.flights.dep.travelers.join(', ')}</span></div>
                </div>
              </div>
            )}
          </section>
          <section ref={el=>refs.current['map']=el} className="min-h-screen px-6 py-20 bg-stone-50">
            <h2 className="font-serif text-3xl text-center mb-3 italic" style={{color:B.dg}}>Your Journey</h2>
            <p className="text-center text-stone-500 mb-8">Barcelona ‚Üí Granada ‚Üí Ronda ‚Üí Seville ‚Üí C√≥rdoba ‚Üí Madrid</p>
            <div className="max-w-3xl mx-auto">
              <TripMap locs={D.locs} fullscreen={fullscreenMap} onToggleFs={()=>setFullscreenMap(!fullscreenMap)} onSelect={(id)=>{const loc=D.locs.find(l=>l.id===id);if(loc&&!fullscreenMap){goTo('d1');}}}/>
              {!fullscreenMap&&(
              <div className="mt-8 bg-white rounded-xl p-5 shadow-sm">
                <h3 className="text-sm font-medium text-stone-700 mb-4">Accommodations</h3>
                <div className="space-y-3">
                  {D.acc.map((a,i)=>(
                    <div key={i} className="flex items-start gap-3 p-3 rounded-lg hover:bg-stone-50 transition-colors">
                      <span className="w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold shrink-0" style={{background:B.dg}}>{i+1}</span>
                      <div className="flex-1 min-w-0">
                        <h4 className="font-medium text-stone-800 text-sm">{a.n}</h4>
                        <p className="text-xs text-stone-500">{a.l} ‚Ä¢ {a.d}</p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
              )}
            </div>
          </section>
          <section ref={el=>refs.current['ess']=el} className="min-h-screen px-6 py-20 bg-white">
            <h2 className="font-serif text-3xl text-center mb-3 italic" style={{color:B.dg}}>Travel Essentials</h2>
            <p className="text-center text-stone-500 mb-8">Important information for your trip</p>
            <div className="max-w-2xl mx-auto">
              <div className="bg-stone-50 rounded-xl p-6 border border-stone-200">
                <h3 className="font-medium text-stone-800 mb-3">Welcome to Spain!</h3>
                <p className="text-stone-600 leading-relaxed">{D.intro}</p>
              </div>
            </div>
          </section>
          {D.itin.map((day,di)=>(
            <section key={day.dy} ref={el=>refs.current[`d${day.dy}`]=el} className={`min-h-screen px-6 py-20 ${di%2===0?'bg-white':'bg-stone-50'}`}>
              <div className="lg:hidden -mx-6 -mt-20 mb-6 h-48 bg-cover bg-center relative" style={{backgroundImage:`url(${H[day.hk]})`}}><div className="absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent"/></div>
              <div className="max-w-2xl mx-auto">
                <div className="text-center mb-10">
                  <p className="text-xs text-stone-400 tracking-widest uppercase mb-1">{day.dt}</p>
                  <h2 className="font-serif text-3xl italic" style={{color:B.dg}}>Day {day.dy}</h2>
                  <p className="mt-1" style={{color:B.dg}}>{day.loc}</p>
                </div>
                <div className="space-y-4">{day.act.map((a,ai)=>{
                  const isExp=exp[`${di}-${ai}`];
                  const nk=`${di}-${ai}`;
                  const isExperience=a.t==='act';
                  const accInfo=a.t==='acc'&&a.g?D.acc.find(x=>x.g===a.g):null;
                  return(
                    <div key={ai} className={`rounded-xl border transition-all ${isExperience?'bg-gradient-to-br from-white to-stone-50 shadow-sm':a.nt?'bg-amber-50':'bg-white'}`} style={isExperience?{borderColor:B.dg,borderWidth:'1.5px'}:a.nt?{borderColor:B.g}:{borderColor:'#e7e5e4'}}>
                      <div className={`p-4 ${a.t!=='info'?'cursor-pointer':''}`} onClick={()=>a.t!=='info'&&tog(di,ai)}>
                        <div className="flex items-start gap-3">
                          <div className={`p-2 rounded-lg ${isExperience?'':'shrink-0'}`} style={{backgroundColor:isExperience?B.dg:a.nt?'#FEF3C7':'#f5f5f4'}}>{getIc(a.i,isExperience?'text-white':'',{color:isExperience?'#fff':a.nt?B.g:B.dg})}</div>
                          <div className="flex-1 min-w-0">
                            <div className="flex items-start justify-between gap-2">
                              <div>
                                {isExperience&&<span className="inline-block text-xs font-medium tracking-wide uppercase px-2 py-0.5 rounded mb-1.5" style={{backgroundColor:B.g,color:'#fff'}}>Experience</span>}
                                <h3 className={`font-medium text-stone-800 ${isExperience?'text-base':'text-sm'}`}>{a.ti}</h3>
                                {a.tm&&<p className={`${isExperience?'text-sm font-medium':'text-sm'} mt-0.5`} style={{color:B.dg}}>{a.tm}</p>}
                                {a.loc&&<p className="text-sm text-stone-500 mt-0.5">{a.loc}</p>}
                              </div>
                              {a.t!=='info'&&<Ic.ChR c={`w-5 h-5 text-stone-400 transition-transform ${isExp?'rotate-90':''}`}/>}
                            </div>
                            {a.nt&&<p className="text-sm mt-2 italic" style={{color:'#92700C'}}>{a.ds}</p>}
                            {a.t==='acc'&&a.ad&&<a href={`https://maps.google.com/search/${encodeURIComponent(a.ad)}`} target="_blank" rel="noopener noreferrer" className="text-sm mt-1 flex items-center gap-1 hover:opacity-70" style={{color:B.dg}}><Ic.Mp c="w-4 h-4" s={{color:B.dg}}/><span className="truncate">{a.ad}</span></a>}
                          </div>
                        </div>
                      </div>
                      {isExp&&a.t!=='info'&&(
                        <div className="px-4 pb-4 border-t border-stone-100 pt-3">
                          <div className="ml-11 space-y-3 text-sm">
                            {isExperience&&a.eds&&<p className="text-stone-600 leading-relaxed">{a.eds}</p>}
                            {!isExperience&&a.ds&&<p className="text-stone-600">{a.ds}</p>}
                            {a.dur&&<div className="flex items-center gap-2 text-stone-500"><Ic.Cl c="w-4 h-4"/>Duration: {a.dur}</div>}
                            {a.pr&&<div><span className="text-stone-500">Provider: </span><span className="text-stone-700">{a.pr}</span></div>}
                            {accInfo&&<div className="bg-stone-50 rounded-lg p-3 mt-2"><h4 className="text-sm font-medium text-stone-700 mb-1.5">About {accInfo.n}</h4><p className="text-stone-600 text-sm leading-relaxed">{accInfo.ds}</p></div>}
                            {a.g&&G[a.g]&&<Gal imgs={G[a.g]} name={isExperience?a.ti:a.loc} isExp={isExperience}/>}
                          </div>
                        </div>
                      )}
                      {!edit&&notes[nk]&&(
                        <div className="mx-4 mb-4 bg-amber-50 border-l-4 border-amber-400 rounded-r-lg px-4 py-2.5">
                          <span className="text-sm text-amber-800"><span className="font-medium" style={{color:B.g}}>Note:</span> {notes[nk]}</span>
                        </div>
                      )}
                      {edit&&(
                        <div className="mx-4 mb-4 border-2 border-dashed rounded-lg p-3" style={{borderColor:B.g}}>
                          <label className="text-xs font-medium block mb-2" style={{color:B.g}}>Ops Note (Level III)</label>
                          <textarea
                            value={notes[nk]||''}
                            onChange={(e)=>setNotes(p=>({...p,[nk]:e.target.value.slice(0,200)}))}
                            placeholder="Add note..."
                            className="w-full text-sm border border-stone-200 rounded-lg p-2 resize-none focus:outline-none focus:border-stone-400"
                            rows={2}
                          />
                          <div className="text-right text-xs text-stone-400 mt-1">{(notes[nk]||'').length}/200</div>
                        </div>
                      )}
                    </div>
                  );
                })}</div>
              </div>
            </section>
          ))}
          <section ref={el=>refs.current['emg']=el} className="min-h-screen px-6 py-20" style={{backgroundColor:'#4A2D35'}}>
            <h2 className="font-serif text-3xl text-white text-center mb-10 italic">Emergency Contacts</h2>
            <div className="max-w-2xl mx-auto">
              <div className="bg-white/15 backdrop-blur-sm rounded-xl p-6 space-y-5">
                <div>
                  <h3 className="text-sm tracking-wide uppercase mb-3 text-amber-300">Operations Manager</h3>
                  <p className="text-white mb-2">Your primary contact: <span className="font-semibold">{D.em.tm}</span></p>
                  <a href={`tel:${D.em.tmPh}`} className="inline-flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors text-white"><Ic.Ph c="w-5 h-5"/><span>{D.em.tmPh}</span></a>
                </div>
                <div className="border-t border-white/30 pt-5">
                  <h3 className="text-sm tracking-wide uppercase mb-3 text-red-300">Emergency Contact (24/7)</h3>
                  <a href={`tel:${D.em.ep}`} className="inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors text-white font-medium"><Ic.Ph c="w-5 h-5"/>{D.em.ep}</a>
                  <p className="text-white/80 text-sm mt-3">On business days: 7 PM to 8 AM (local time)<br/>On weekends and holidays: 24/7</p>
                </div>
                <div className="border-t border-white/30 pt-5">
                  <a href={`https://wa.me/${D.em.wa}?text=${encodeURIComponent('Hello! I am Jeffrey Lehrfeld on the Spain trip and need assistance.')}`} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg transition-colors text-white"><Ic.Wa c="w-5 h-5"/><span>WhatsApp</span></a>
                </div>
              </div>
              <div className="text-center mt-10">
                <p className="text-white/80 text-sm">Welcome to Spain!</p>
                <p className="font-medium mt-1 text-amber-300">Unbox Spain & Portugal Team</p>
              </div>
            </div>
          </section>
          <section ref={el=>refs.current['places']=el} className="min-h-screen px-6 py-20" style={{background:'linear-gradient(180deg, #F5F2ED 0%, #E8E4DD 100%)'}}>
            <h2 className="font-serif text-3xl text-center mb-3 italic" style={{color:B.dg}}>The Places You'll Go</h2>
            <p className="text-center text-stone-500 mb-10">Discover the magic of Spain</p>
            <div className="max-w-3xl mx-auto space-y-4">
              {D.places.map((place,i)=>{
                const isOpen=placesOpen[place.id];
                return(
                  <div key={i} className="bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden">
                    <button onClick={()=>togPlace(place.id)} className="w-full text-left">
                      <div className="flex items-center gap-4 p-4">
                        <span className="w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-semibold shrink-0" style={{background:B.dg}}>{i+1}</span>
                        <div className="flex-1 min-w-0">
                          <h3 className="font-serif text-xl italic" style={{color:B.dg}}>Experience {place.name}</h3>
                        </div>
                        <Ic.ChD c={`w-5 h-5 text-stone-400 shrink-0 transition-transform ${isOpen?'rotate-180':''}`}/>
                      </div>
                    </button>
                    {isOpen&&(
                      <div className="px-4 pb-4">
                        <div className="w-full h-48 md:h-64 rounded-xl overflow-hidden mb-4">
                          <img src={place.img} alt={place.name} className="w-full h-full object-cover"/>
                        </div>
                        <p className="text-stone-600 leading-relaxed">{place.desc}</p>
                      </div>
                    )}
                  </div>
                );
              })}
            </div>
          </section>
          <section ref={el=>refs.current['faq']=el} className="min-h-screen px-6 py-20" style={{background:'linear-gradient(180deg, #FDF8F3 0%, #F5EDE4 100%)'}}>
            <h2 className="font-serif text-3xl text-center mb-3 italic" style={{color:B.dg}}>Destination FAQ</h2>
            <p className="text-center text-stone-500 mb-10">Everything you need to know about traveling in Spain</p>
            <div className="max-w-3xl mx-auto space-y-6">
              {D.faq.map((cat,ci)=>(
                <div key={ci} className="bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden">
                  <div className="px-6 py-4 border-b border-stone-100" style={{background:'linear-gradient(90deg, #FAF5F0 0%, #FFFFFF 100%)'}}>
                    <h3 className="font-medium text-lg flex items-center gap-3" style={{color:B.dg}}>
                      <span className="text-2xl">{cat.icon}</span>
                      {cat.cat}
                    </h3>
                  </div>
                  <div className="divide-y divide-stone-100">
                    {cat.items.map((item,qi)=>{
                      const isOpen=faqOpen[`${ci}-${qi}`];
                      return(
                        <div key={qi} className="transition-colors hover:bg-stone-50">
                          <button onClick={()=>togFaq(ci,qi)} className="w-full px-6 py-4 text-left flex items-start justify-between gap-4">
                            <span className="font-medium text-stone-700">{item.q}</span>
                            <Ic.ChD c={`w-5 h-5 text-stone-400 shrink-0 transition-transform ${isOpen?'rotate-180':''}`}/>
                          </button>
                          {isOpen&&(
                            <div className="px-6 pb-4 -mt-2">
                              <p className="text-stone-600 text-sm leading-relaxed pl-4 border-l-2" style={{borderColor:B.g}}>{item.a}</p>
                            </div>
                          )}
                        </div>
                      );
                    })}
                  </div>
                </div>
              ))}
              <div className="text-center pt-6">
                <p className="text-stone-500 text-sm mb-3">Have more questions?</p>
                <a href={`https://wa.me/${D.em.wa}?text=${encodeURIComponent('Hello! I have a question about my upcoming Spain trip.')}`} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-2 px-6 py-3 rounded-full text-white font-medium shadow-lg hover:shadow-xl transition-all" style={{backgroundColor:'#25D366'}}>
                  <Ic.Wa c="w-5 h-5"/>Ask Your Concierge
                </a>
              </div>
            </div>
          </section>
          <footer className="py-12 px-6 text-center" style={{backgroundColor:B.dg}}>
            <img src="https://spaintourismsummit.tourspain.es/wp-content/uploads/2025/05/BURDEAUX.jpg" alt="Unbox Spain & Portugal" className="h-12 mx-auto mb-4 brightness-0 invert" onError={(e)=>{e.target.style.display='none';}}/>
            <p className="text-white text-lg font-serif italic mb-2">Share Your Experience</p>
            <p className="text-white/80 text-sm mb-4">We love seeing Spain from your perspective!<br/>Tag us in your social media and photos.</p>
            <div className="flex justify-center gap-4 mb-4">
              <a href="https://www.instagram.com/unboxspain/" target="_blank" rel="noopener noreferrer" className="w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors"><Ic.Ig c="w-5 h-5 text-white"/></a>
              <a href="https://www.unboxspainandportugal.com/" target="_blank" rel="noopener noreferrer" className="w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors"><Ic.Gl c="w-5 h-5 text-white"/></a>
            </div>
            <p className="text-white/70 text-sm">@unboxspain</p>
            <p className="text-white/80 text-sm mt-4">¬© 2026 Unbox Spain & Portugal</p>
            <p className="text-white/60 text-xs mt-1">Last updated: Jan 23, 2026</p>
          </footer>
        </div>
      </div>
      {showWaPanel&&<WhatsAppPanel onClose={()=>setShowWaPanel(false)} wa={D.em.wa} name={D.name}/>}
      {fullscreenMap&&<TripMap locs={D.locs} fullscreen={true} onToggleFs={()=>setFullscreenMap(false)} onSelect={()=>{}}/>}
      <button onClick={()=>setShowWaPanel(!showWaPanel)} className={`fixed bottom-5 right-5 text-white px-5 py-2.5 rounded-full shadow-lg hover:scale-105 transition-all flex items-center gap-2 z-30 no-print ${showWaPanel?'':'pulse-ring'}`} style={{backgroundColor:'#25D366'}}>
        <Ic.Wa c="w-5 h-5"/><span className="font-medium">{showWaPanel?'Close':'Chat with Concierge'}</span>
      </button>
    </div>
  );
}
ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>
